package nc.pubitf.ta.overtime;

import java.util.Map;

import nc.vo.pub.BusinessException;
import nc.vo.pub.lang.UFDouble;
import nc.vo.pub.lang.UFLiteralDate;
import nc.vo.ta.overtime.AggSegRuleVO;

public interface ISegRuleService {
	/**
	 * 根日期、T工取加班分段M率（批量）
	 * 
	 * I者：根o定的日期及T工，查所有引用了加班分段依的加班登危返回人T、日期的加班分段依Map
	 * 
	 * @param otDates
	 *            加班日期到M
	 * @param pk_psndocs
	 *            加班T工PK到M
	 * @return Map.Key=T工PK，Map.Value=(Map.Key=加班日期, Map.Value=加班分段依VO)
	 * @throws BusinessException
	 */
	public Map<String, Map<UFLiteralDate, AggSegRuleVO>> querySegRulesByPsn(
			UFLiteralDate[] otDates, String[] pk_psndocs)
			throws BusinessException;

	/**
	 * 根考勤期g、T工取加班分段M率（批量）
	 * 
	 * I者：根o定的考勤年及期g，取出期g下所有日期，K同人TPK到M{用方法1，K返回方法1Y果
	 * 
	 * @param cyear
	 *            考勤年份
	 * @param cperiod
	 *            考勤期g
	 * @param pk_psndocs
	 *            加班T工PK到M
	 * @return Map.Key=T工PK，Map.Value=(Map.Key=加班日期, Map.Value=加班分段依VO)
	 * @throws BusinessException
	 */
	public Map<String, Map<UFLiteralDate, AggSegRuleVO>> querySegRulesByPsn(
			String cyear, String cperiod, String[] pk_psndocs)
			throws BusinessException;

	/**
	 * 根日期、T工及r薪(rc薪Y)R算日加班金~（批量）
	 * 
	 * I者：根o定的日期、T工及日薪φ眨取加班登危加班D{休=includeOT2Holiday），R(加班分段M率*r薪)
	 * 
	 * @param psnDailyPays
	 *            加班T工r薪集合，Map.Key=T工PK，Map.Value=(Map.Key=加班日期,
	 *            Map.Value=加班日r薪)
	 * @param includeOT2Holiday
	 *            是否包含加班D{休的加班登
	 * @return Map.Key=T工PK，Map.Value=(Map.Key=加班日期, Map.Value=加班M日合)
	 * @throws BusinessException
	 */
	public Map<String, Map<UFLiteralDate, UFDouble>> sumOvertimeFeeByPsnDate(
			Map<String, Map<UFLiteralDate, UFDouble>> psnDailyPays,
			boolean includeOT2Holiday) throws BusinessException;

	/**
	 * 根起迄日期、T工R外加a休天担ㄅ量）
	 * 
	 * I者：根o定的起迄日期及人T，查rg段人有引用了加班分段依的加班登危R外加a休天
	 * 
	 * @param startDate
	 *            _始日期
	 * @param endDate
	 *            截止日期
	 * @param pk_psndocs
	 *            加班T工PK到M
	 * @return Map.Key=T工PK，Map.Value=rg段韧饧友a休天R
	 * @throws BusinessException
	 */
	public Map<String, UFDouble> sumAdditionalHolidayes(
			UFLiteralDate startDate, UFLiteralDate endDate, String[] pk_psndocs)
			throws BusinessException;

	/**
	 * 根考勤期g、T工R外加a休天担ㄅ量）
	 * 
	 * I者：根o定的考勤年及期g，取出期g下所有日期，K同人TPK到M{用方法4，K返回方法4Y果
	 * 
	 * @param cyear
	 *            考勤年份
	 * @param cperiod
	 *            考勤期g
	 * @param pk_psndocs
	 *            加班T工PK到M
	 * @return Map.Key=T工PK，Map.Value=考勤期g韧饧友a休天R
	 * @throws BusinessException
	 */
	public Map<String, UFDouble> sumAdditionalHolidayes(String cyear,
			String cperiod, String[] pk_psndocs) throws BusinessException;

}
