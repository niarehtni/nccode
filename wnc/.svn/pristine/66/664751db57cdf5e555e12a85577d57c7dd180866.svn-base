package nc.ui.hi.psndoc.view;


import nc.bs.uif2.validation.ValidationFailure;
import nc.bs.uif2.validation.Validator;
import nc.vo.hi.psndoc.CourtDeductionSetting;
import nc.vo.hi.psndoc.PsndocAggVO;

public class CourtFineValidator implements Validator {

	  
	@Override
	public ValidationFailure validate(Object e) {
		PsndocAggVO aggvo = (PsndocAggVO) e;
		String[] tabs = aggvo.getTableCodes();
		for (String tab : tabs) {
			if (tab.equals("hi_psndoc_courtdeduction")) {
				CourtDeductionSetting[] courtdeductvos = (CourtDeductionSetting[]) aggvo.getTableVO(tab);
				for(CourtDeductionSetting cdvo : courtdeductvos){
					if(null != cdvo.getAttributeValue("monthexecutrate") && 
							null == cdvo.getAttributeValue("monthexecutamount") &&
							null == cdvo.getAttributeValue("deductsalarybase")){
						//如有填月绦匈M率，t必填。 
						//MessageDialog.showErrorDlg(null, "校验", "n案"+cdvo.getAttributeValue("filenumber")+"未输入扣款薪Y基");
						return new ValidationFailure("n案"+cdvo.getAttributeValue("filenumber")+"未输入扣款薪Y基");
					}
					if(null == cdvo.getAttributeValue("monthexecutrate") && 
							null == cdvo.getAttributeValue("monthexecutamount") &&
							null == cdvo.getAttributeValue("deductsalarybase")){
						//若未填扣款薪Y基蹬c月绦匈M率，t必填。 
						//MessageDialog.showErrorDlg(null, "校验", "n案"+cdvo.getAttributeValue("filenumber")+"未输入月绦薪痤~");
						//return null;
						return new ValidationFailure("n案"+cdvo.getAttributeValue("filenumber")+"未输入月绦薪痤~");
					}
				}
			}
		}
		return null;
	}

}
